\newpage
\tableofcontents 
\newpage
\listoftables 
\newpage
\listoffigures 
\newpage

```{r Setup, include=FALSE}
# Set your working directory

# Load your packages
#install.packages('readxl')
#install.packages('foreign')
#install.packages('sf')
#install.packages('leaflet')
#install.packages('mapview')
library(readxl)
library(here)
library(tidyverse)
library(lubridate)
library(foreign)
library(dplyr)
library(tidyverse, quietly = TRUE)
library(sf)
library(leaflet)
library(mapview); mapviewOptions(fgb = FALSE)

# Set your ggplot theme
theme_set(theme_minimal())

# Check working directory
here()

# Load your datasets
#Importing processed energy monthly generation data
df_generation_monthly <- read.csv(here("Data/Processed/df_generation_monthly.csv"),
                                  stringsAsFactors = TRUE)
#Importing processed pollutant monthly data 
df_pollutant_monthly <- read.csv(here("Data/Processed/df_pollutant.csv"),
                                  stringsAsFactors = TRUE)

#Importing processed plant location and capacity data
df_plantcapacities_locations <- read.csv(here("Data/Processed/df_plantcapacities_locations.csv"),
                                  stringsAsFactors = TRUE)
#Importing processed pollutant observation stations data
df_station_locations <- read.csv(here("Data/Processed/df_latitude&longitude.csv"),
                                  stringsAsFactors = TRUE)

#Setting date columns as date objects
df_generation_monthly$Date <- ymd(df_generation_monthly$Date)
df_pollutant_monthly$Date <- ym(df_pollutant_monthly$Date)

```


# Rationale and Research Questions



\newpage

# Dataset Information



\newpage

# Exploratory Analysis 
```{r Visualization: Generation}
top_states_renewables2022 <- df_generation_monthly %>% 
  filter(Year == 2022) %>% 
  group_by(State) %>% 
  summarise(NetGeneration = sum(NetGeneration)) %>% 
  mutate(Rank = rank(-NetGeneration)) %>% 
  filter(Rank %in% c(1:10))

#visualizing renewable energy generation over time

#Summarizing monthly data into annual data
df_generation_annual <- df_generation_monthly %>% 
  group_by(Year) %>% 
  summarise(NetGeneration = sum(NetGeneration))

#Plotting out trend for top 10 states
plot.MonthlyGeneration <- df_generation_monthly %>%
  filter(State %in% top_states_renewables2022$State) %>% 
  ggplot(aes(x=Date,
             y=NetGeneration,
             color=State)) +
  geom_line() +
  labs(x="Date",
       y="Monthly Energy Generation (MWh)",
       title="Monthly Renewable Energy Generation per State (MWh)")

print(plot.MonthlyGeneration)

plot.AnnualGeneration <- df_generation_annual %>% 
  ggplot(aes(x=Year,
             y=NetGeneration)) +
  geom_line() +
  labs(x="Year",
       y="Annual Energy Generation (MWh)",
       title="Annual Renewable Energy Generation over time (MWh)")

print(plot.AnnualGeneration)
```




\newpage

# Analysis



## Question 1: <insert specific question here and add additional subsections for additional questions below, if needed>

## Question 2: 




\newpage

# Summary and Conclusions


\newpage

# References
<add references here if relevant, otherwise delete this section> 
